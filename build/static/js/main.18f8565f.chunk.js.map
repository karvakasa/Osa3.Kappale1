{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","newObject","post","id","delete","Filter","props","value","newFilter","onChange","handleFilterChange","Form","onSubmit","addName","newName","handleDudeChange","newNumber","handleNumberChange","type","Persons","personsToShow","map","person","key","remove","removePerson","Person","name","number","onClick","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","filter","toLowerCase","includes","useEffect","personService","then","response","data","event","target","names","window","alert","preventDefault","dudeObject","length","concat","catch","error","console","log","confirm","ReactDOM","render","document","getElementById"],"mappings":"8MACMA,EAAU,eAiBC,EAfF,WACX,OAAOC,IAAMC,IAAIF,IAcJ,EAXA,SAAAG,GACb,OAAOF,IAAMG,KAAKJ,EAASG,IAUd,EAJA,SAACE,GACZ,OAAOJ,IAAMK,OAAN,UAAgBN,EAAhB,YAA2BK,KCsElCE,EAAS,SAAEC,GAEf,OACE,iDAEQ,2BAAQC,MAAOD,EAAME,UAAWC,SAAUH,EAAMI,uBAItDC,EAAO,SAAEL,GAEb,OACE,0BAAMM,SAAUN,EAAMO,SAAtB,QAEE,2BAAON,MAAOD,EAAMQ,QAASL,SAAUH,EAAMS,mBAC7C,8BAHF,UAKE,2BAAOR,MAAOD,EAAMU,UAAWP,SAAUH,EAAMW,qBAC/C,6BACA,4BAAQC,KAAK,UAAb,SAKAC,EAAU,SAAEb,GAChB,OACE,6BACGA,EAAMc,cAAcC,KAAI,SAACC,GAAD,OACvB,kBAAC,EAAD,CAAQC,IAAOD,EAAOnB,GAAImB,OAAQA,EAAQE,OAAQlB,EAAMmB,oBAM1DC,EAAS,SAAC,GAAuB,IAArBJ,EAAoB,EAApBA,OAAQE,EAAY,EAAZA,OACxB,OACI,6BACGF,EAAOK,KADV,IACiBL,EAAOM,OACrB,4BAAQC,QAAS,kBAAML,EAAOF,KAA9B,YAOMQ,EA/HH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAEgBF,mBAAS,IAFzB,mBAERjB,EAFQ,KAECoB,EAFD,OAGmBH,mBAAS,IAH5B,mBAGRf,EAHQ,KAGGmB,EAHH,OAIoBJ,mBAAS,IAJ7B,mBAIRvB,EAJQ,KAIG4B,EAJH,KAMVhB,EAAgBY,EACrBK,QAAO,SAAAf,GAAM,OAAIA,EAAOK,KAAKW,cAAcC,SAAS/B,EAAU8B,kBAE/DE,qBAAU,WACRC,IAEGC,MAAK,SAAAC,GACJV,EAAWU,EAASC,WAEvB,IAuDH,OACE,6BACI,yCACE,kBAAC,EAAD,CAAQpC,UAAWA,EAAWE,mBAhBX,SAACmC,GAC1BT,EAAaS,EAAMC,OAAOvC,UAgBtB,yCACE,kBAAC,EAAD,CAAMM,QAzDE,SAACgC,GACb,IAAIE,EAAQf,EAAQX,KAAI,SAACC,GAAD,OAAYA,EAAOK,QAC3C,GAAgB,KAAZb,EAGF,OAFAkC,OAAOC,MAAM,8BACbJ,EAAMK,iBAIR,GAAIH,EAAMR,SAASzB,GACjBkC,OAAOC,MAAP,UAAgBnC,EAAhB,mCACA+B,EAAMK,qBACD,CAELL,EAAMK,iBACN,IAAMC,EAAa,CACfxB,KAAMb,EACNc,OAAQZ,EACRb,GAAI6B,EAAQoB,OAAS,GAEzBX,EACMU,GACPT,MAAK,SAAAC,GACJV,EAAWD,EAAQqB,OAAOV,EAASC,UAGpCU,OAAM,SAAAC,GACLC,QAAQC,IAAIF,EAAMZ,SAASC,SAI3BX,EAAWD,EAAQqB,OAAOF,IAC1BhB,EAAa,IACbD,EAAW,MAyBepB,QAASA,EAASC,iBArBzB,SAAC8B,GACtBX,EAAWW,EAAMC,OAAOvC,QAoB0DS,UAAWA,EAAWC,mBAfjF,SAAC4B,GAC1BV,EAAaU,EAAMC,OAAOvC,UAetB,uCACA,kBAAC,EAAD,CAASa,cAAeA,EAAeK,aAdxB,SAACH,IAEwB,IAAxC0B,OAAOU,QAAQ,SAAUpC,EAAOK,OAClCc,EAAqBnB,EAAOnB,SChElCwD,IAASC,OAAO,kBAAC,EAAD,MAAQC,SAASC,eAAe,W","file":"static/js/main.18f8565f.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    return axios.get(baseUrl)\n  }\n  \n  const create = newObject => {\n    return axios.post(baseUrl, newObject)\n  }\n  \n  const update = (id, newObject) => {\n    return axios.put(`${baseUrl}/${id}`, newObject)\n  }\n  const remove = (id) => {\n      return axios.delete(`${baseUrl}/${id}`)\n  }\n  \n  export default { \n    getAll: getAll, \n    create: create, \n    update: update, \n    remove: remove\n  }","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n\n  const personsToShow = persons\n  .filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n\n  const addName = (event) => {\n      var names = persons.map((person) => person.name)\n      if (newName === ''){\n        window.alert('write something first')\n        event.preventDefault()\n        return\n      } \n\n      if (names.includes(newName)){\n        window.alert(`${newName} is already added to phonebook`);\n        event.preventDefault()\n      } else {\n    \n        event.preventDefault()\n        const dudeObject = {\n            name: newName,\n            number: newNumber,\n            id: persons.length + 1\n        }\n        personService\n      .create(dudeObject)\n      .then(response => {\n        setPersons(persons.concat(response.data))\n        \n      })\n      .catch(error => {\n        console.log(error.response.data)\n      })\n\n\n        setPersons(persons.concat(dudeObject))\n        setNewNumber('')\n        setNewName('')\n      }\n  }\n\n  const handleDudeChange = (event) => {\n      setNewName(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const removePerson = (person) => {\n    \n    if (window.confirm('delete', person.name)===true){\n      personService.remove(person.id)\n    }\n  }\n \n  return (\n    <div>\n        <h2>Phonebook</h2>\n          <Filter newFilter={newFilter} handleFilterChange={handleFilterChange}/>\n        <h2>add a new</h2>\n          <Form addName={addName} newName={newName} handleDudeChange={handleDudeChange} newNumber={newNumber} handleNumberChange={handleNumberChange}/>\n        <h2>Numbers</h2> \n        <Persons personsToShow={personsToShow} removePerson={removePerson}/>\n    </div>\n  )\n}\n\nconst Filter = ( props ) => {\n  \n  return(\n    <div>\n            filter shown with\n            <input  value={props.newFilter} onChange={props.handleFilterChange}/>\n    </div>\n  )\n}\nconst Form = ( props ) => {\n  \n  return (\n    <form onSubmit={props.addName}>\n      name: \n      <input value={props.newName} onChange={props.handleDudeChange}/>\n      <div></div>\n      number:\n      <input value={props.newNumber} onChange={props.handleNumberChange}/>\n      <br></br>\n      <button type=\"submit\">add</button>\n    </form>\n  )\n}\n\nconst Persons = ( props ) => {\n  return(\n    <div>\n      {props.personsToShow.map((person) => \n        <Person key = {person.id} person={person} remove={props.removePerson}/>\n        \n      )}\n    </div>\n  )\n}\nconst Person = ({ person, remove}) => {\n  return (\n      <div>\n        {person.name} {person.number}\n         <button onClick={() => remove(person)}>\n           delete\n            </button>\n      </div>\n      \n  )\n}\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\n\nReactDOM.render(<App />,document.getElementById('root'));"],"sourceRoot":""}